<!DOCTYPE html>
<html>
  <head>
    <title>
      Exercises 12
    </title>
  </head>
  <body>
    <button onclick="
        document.querySelector('.twelveC').innerText = 'Loading...'
        setTimeout(function(){
            document.querySelector('.twelveC').innerText = 'Finished!';
        }, 1000);
    " class="twelveC">Start</button>

    <br>

    <button onclick="
        handleAddToCart();
    ">Add to cart</button>
    <p class="add-to-cart-paragraph"></p>

    <br>
    
    <button onclick="
        handleAddTitle()
    ">Add</button>
    <button onclick="
        handleRemoveTitle()
    ">Remove</button>

    <script>
        //12a.
        const add = function(){
            console.log(2+3);
        };
        add();
        add();
        
        //12b.
        function runTwice(funct){
            funct();
            funct();
        }
        runTwice(function(){console.log('12b');});
        runTwice(add);
        
        //12f.
        let existingTimeout = 'No timeout set!';
        function handleAddToCart(){
            document.querySelector('.add-to-cart-paragraph').innerText = 'Added';
            clearTimeout(existingTimeout);
            existingTimeout = setTimeout(function(){
                document.querySelector('.add-to-cart-paragraph').innerText = '';
            }, 2000);
        }
        
        //12g.
        let notificationCount = 1;
        const originalTitle = document.querySelector('title').innerText;
        let twelveG = 'Interval ID' 
        twelveG = setInterval(function(){
            document.querySelector('title').innerText = `(${notificationCount}) ${originalTitle}`;
            notificationCount++;
        }, 1000);

        setTimeout(function(){
            clearInterval(twelveG);
        },10000);

        //12h.
        function handleAddTitle(){
            notificationCount++;
            document.querySelector('title').innerText = `(${notificationCount}) ${originalTitle}`;
        }
        function handleRemoveTitle(){
            notificationCount--;
            if (notificationCount <= 0){ //<-12i.
                document.querySelector('title').innerText = originalTitle;
            }else{
                document.querySelector('title').innerText = `(${notificationCount}) ${originalTitle}`;
            }
        }

        //12j.
        const multiply = (num1, num2) => num1*num2;
        console.log(multiply(2,3));
        console.log(multiply(7,10));

        //12l.
        function countPositive(nums){
            positiveCount = 0;
            nums.forEach((value, index)=>{
                if (value >= 0) {
                    positiveCount++;
                }
            });
            return positiveCount;
        }
        console.log(countPositive([1,-3,5]));
        console.log(countPositive([-2,3,-5,7,10]));

        //12m.
        function addNum(array, num){
            return array.map(value => value += num);
        }
        console.log(addNum([1,2,3], 2));
        console.log(addNum([-2,-1,0,99], 2));

        //12n.
        function removeEgg(foods){
            eggCount = 0;
            return foods.filter((value, index)=>{
                if (value === 'egg' && eggCount < 2){
                    eggCount++;
                    return false;
                } else {
                    return true;
                }
            });
        }
        console.log(removeEgg(['egg', 'apple', 'egg', 'egg', 'ham']));

        

    </script>
  </body>
</html>

    